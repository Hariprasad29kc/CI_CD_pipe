trigger:
- main

pool:
  vmImage: 'ubuntu-latest'

jobs:
- job: SyncToAzureDevOps
  steps:
  - checkout: self

  - script: |
      git config  --global user.email "harik@systechusa.com"
      git config  --global user.name "Hariprasad29kc"
      echo "Git Configuration:"
      git config --list
      echo "Remote URLs:"
      git remote -v
      git remote set-url origin https://github.com/Hariprasad29kc/CI_CD_pipe.git
      git fetch origin

      if git rev-parse --verify --quiet "origin/$branch_name"; then
        git checkout $branch_name
        git reset --hard "origin/$branch_name"
        git push --force origin $branch_name
      else
        echo "The '$branch_name' branch does not exist in the Github repo."
      fi 
    env:
      GITHUB_PAT: $(GITHUB_PAT)
    displayName: 'Sync to Azure DevOpsdqwd21tyt342342'
